<?xml version="1.0" encoding="utf-8" ?>
<Page
    x:Class="ChatGPTDesktopApp.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:ChatGPTDesktopApp"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Background="Transparent"
    BackgroundSizing="OuterBorderEdge"
    BorderBrush="Transparent"
    BorderThickness="0"
    mc:Ignorable="d">

    <Grid>
        <NavigationView
            x:Name="AppNavigationView"
            Margin="0"
            Background="Transparent"
            BackgroundSizing="OuterBorderEdge"
            BorderBrush="Transparent"
            BorderThickness="0"
            IsBackButtonVisible="Collapsed"
            IsBackEnabled="True"
            IsPaneOpen="False"
            IsPaneToggleButtonVisible="True"
            IsPaneVisible="True"
            IsSettingsVisible="False"
            IsTextScaleFactorEnabled="True"
            IsTitleBarAutoPaddingEnabled="True"
            PaneDisplayMode="Left"
            SelectionChanged="AppNavigationView_SelectionChanged">
            <NavigationView.Content>
                <ScrollViewer Background="{ThemeResource Icons8GradientBlueOverlay}">
                    <Frame
                        x:Name="AppContentFrame"
                        Padding="24,24,24,12"
                        Background="Transparent"
                        BackgroundSizing="OuterBorderEdge"
                        IsNavigationStackEnabled="True"
                        Loaded="AppContentFrame_Loaded"
                        Navigated="AppContentFrame_Navigated" />
                </ScrollViewer>
            </NavigationView.Content>
            <NavigationView.MenuItems>
                <NavigationViewItem
                    Content="New chat"
                    Icon="NewWindow"
                    Tag="NewChatPage" />
                <NavigationViewItem
                    Content="Search chats"
                    Icon="Find"
                    SelectsOnInvoked="False" />
                <NavigationViewItem Content="Library" Icon="Pictures" />
                <NavigationViewItemSeparator Margin="0,8,0,8" Foreground="{ThemeResource SmokeFillColorDefaultBrush}" />
                <NavigationViewItemHeader Content="Projects" />
                <NavigationViewItem Content="MemeBoard v3" Icon="Folder" />
                <NavigationViewItem Content="Microsoft Intune" Icon="Folder" />
                <NavigationViewItem Content="Social Media Automation" Icon="Folder" />
                <NavigationViewItemSeparator Margin="0,8,0,8" Foreground="{ThemeResource SmokeFillColorDefaultBrush}" />
                <NavigationViewItemHeader Content="Chats" />
                <NavigationViewItem Content="Edge Traversal and latency" />
                <NavigationViewItem
                    Content="Home"
                    Icon="Home"
                    Tag="HomePage"
                    Visibility="Collapsed" />
                <NavigationViewItem
                    Content="Conversations"
                    Icon="BackToWindow"
                    Tag="ConversationsPage"
                    Visibility="Collapsed" />
                <NavigationViewItem
                    Content="Account"
                    Icon="Account"
                    Tag="AccountPage"
                    Visibility="Collapsed" />
            </NavigationView.MenuItems>
            <NavigationView.FooterMenuItems>
                <NavigationViewItem Content="Bookmarks" Tag="BookmarksPage">
                    <NavigationViewItem.Icon>
                        <ImageIcon Source="https://img.icons8.com/liquid-glass/48/bookmark-ribbon.png" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>
            <NavigationView.PaneFooter>
                <StackPanel
                    Margin="0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Bottom"
                    Orientation="Vertical"
                    Spacing="10">
                    <NavigationViewItemSeparator />
                    <Button
                        x:Name="UserAccountNavigationViewButton"
                        Margin="2"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Bottom"
                        HorizontalContentAlignment="Stretch"
                        VerticalContentAlignment="Stretch"
                        Style="{ThemeResource SubtleButtonStyle}">
                        <Button.Content>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <PersonPicture
                                    x:Name="UserProfilePicture"
                                    Grid.Column="0"
                                    Width="40"
                                    Height="40"
                                    Margin="4,4,10,4"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Stretch"
                                    HorizontalContentAlignment="Stretch"
                                    VerticalContentAlignment="Stretch"
                                    BorderBrush="{ThemeResource ControlOnImageFillColorTertiaryBrush}"
                                    ProfilePicture="https://lh3.googleusercontent.com/a/AEdFTp41cl1tUIJPgTbvCYIGpIXnb3Nt2KFrrAPnAM0byg=s96-c" />

                                <StackPanel
                                    Grid.Column="1"
                                    Margin="4"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    Orientation="Vertical"
                                    Spacing="2">
                                    <TextBlock
                                        x:Name="UserProfileDisplayNameTextBlock"
                                        HorizontalAlignment="Left"
                                        HorizontalTextAlignment="Left"
                                        MaxLines="1"
                                        Style="{ThemeResource BaseTextBlockStyle}"
                                        Text="Gage Faulkner"
                                        TextAlignment="Left"
                                        TextWrapping="Wrap" />

                                    <TextBlock
                                        x:Name="UserProfileSubscriptionStatusTextBlock"
                                        HorizontalAlignment="Left"
                                        HorizontalTextAlignment="Left"
                                        MaxLines="1"
                                        Style="{ThemeResource CaptionTextBlockStyle}"
                                        Text="Plus"
                                        TextAlignment="Left"
                                        TextWrapping="Wrap" />
                                </StackPanel>
                            </Grid>
                        </Button.Content>
                        <Button.Flyout>
                            <MenuFlyout>
                                <MenuFlyout.SystemBackdrop>
                                    <DesktopAcrylicBackdrop />
                                </MenuFlyout.SystemBackdrop>
                                <MenuFlyoutItem Height="40" Text="Personalization" />
                                <MenuFlyoutItem Height="40" Text="Subscription" />
                                <MenuFlyoutItem Height="40" Text="Manage Memories" />
                                <MenuFlyoutSeparator />
                                <MenuFlyoutItem Height="40" Text="Logout" />
                                <MenuFlyoutSeparator />
                                <MenuFlyoutItem
                                    x:Name="OpenSettingsMenuFlyoutItem"
                                    Height="40"
                                    Margin="4"
                                    Padding="5"
                                    Click="OpenSettingsMenuFlyoutItem_Click"
                                    Text="Settings">
                                    <MenuFlyoutItem.Icon>
                                        <SymbolIcon Symbol="Setting" />
                                    </MenuFlyoutItem.Icon>
                                </MenuFlyoutItem>
                            </MenuFlyout>
                        </Button.Flyout>
                    </Button>
                </StackPanel>
            </NavigationView.PaneFooter>
        </NavigationView>
    </Grid>
</Page>
